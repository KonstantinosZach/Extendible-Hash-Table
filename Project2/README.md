### Documentation
#### Εργασία 2
##### Μέλη της ομάδας
##### Μέλη της ομάδας
* [Αποστολάτος Ιωάννης](https://github.com/sdi1900012)
* [Θεμελής Αλέξανδρος](https://github.com/AlexThemelis)
* Ζαχαρόπουλος Γεώργιος-Κωνσταντίνος

-----
##### Εκτέλεση της εργασίας
* Για να εκτέσετε την εργασία τρέξτε `make sht` και μετά `./build/runner` ή `make run`.
* Για να ξανατρέξουμε την εργασία θα πρέπει να κάνουμε **πάντα** `make clean`. Στην ουσία θέλουμε να διαγράφουμε τα διάφορα αρχεία που δημιουργούνται κάθε φορά.

-----
##### Παραδοχές
* Στο info block αποθηκεύουμε το global depth, το attrName {city,surname}, attrLenght και fileName που αντιστοιχεί στο πρωτεύον αρχείο. Το info block βρίσκεται στη 1η θέση στον πίνακα των blocks.
* Το directory αποτελείται από 1 BF block και βρίσκεται στη 2η θέση στον πίνακα των blocks.
* Κάθε bucket είναι ένα block και έχει ως max χώρο 16 θέσεις για SecondaryRecords. Στην αρχή του bucket αποθηκεύουμε το local depth και το counter των SecondaryRecords. Τα buckets ξεκινούν πάντα μετά την 2η θέση του πίνακα των blocks.
* Τα offsets που χρησιμοποιούνται στο δευτερεύον ευρετήριο είναι τα εξής:
    * Για τα δεδομένα του SecondaryRecord έχουμε ότι tuple id απαιτεί 5 θέσεις, το attrname απαιτεί 20 θέσεις. Συνολικά το SecondaryRecord χρειάζεται 25 θέσεις char.
* To δευτερεύον ευρετήριο γενικά χωράει μέχρι 512 SecondaryRecords, όμως παρατηρείται λόγω της hash ότι στην πραγματικότητα θα χωρέσει λιγότερες καθώς στο ίδιο block γίνοται hash διαφορετικά attrname με αποτέλεσμα να γίνονται συνεχόμενα splits και να αυξάνεται ο αριθμός των directory keys καθώς και το global depth. To οποίο μας οδηγεί στο να φτάσουμε το μέγιστο global depth πιο γρήγορα. Παρατηρούμε ότι η μέγιστη τιμή του global depth θα είναι 5.
* Ο πίνακας των open files είναι global.
* Η hash function που χρησιμοποιούμε είναι η djb2.
-----
##### Παρατηρήσεις-Σχόλια
* Ολες οι λειτουργίες του δευτερεύοντος ευρετηρίου επιδεικνύονται στην sht_main.c.
* Παρατηρήσαμε ότι στην 1η εργασία υπήρχε λάθος στην εκτύπωση των records το οποίο διορθώθηκε στην 2η.
* Όταν το πρόγραμμα φτάσει στο σημείο στο οποίο θα πραγματοποιούνται infinte splits λόγω του περιορισμένου χώρου και του γεγονότος ότι δεν υπάρχουν block υπερχείλισης τότε θα τερματίσει με μήνυμα λάθους.


